<html>
<head>
    <script>
    document.addEventListener("DOMContentLoaded", function(event) {
        // logging
        function logs(message, color) {
            let logs = document.querySelector('#logs');
            let log = document.createElement('li');
            log.textContent = message;
            log.style.color = color;
            logs.append(log);
        }
        // websocket client
        var ws = new WebSocket('ws://localhost:2015/websocket');
        ws.onopen = function(e) {
            logs('[connected] connection established to server.', 'green');
            logs('// you can press S key from the server console.', 'blue');
        };
        ws.onmessage = function(event) {
            logs(`[message] Data received from server: ${event.data}`, 'green');
        };
        ws.onclose = function(event) {
            logs('[close] connection ' + (event.wasClean ? 'closed cleanly' : 'died'), 'red');
        };
        ws.onerror = function(error) {
            logs(`[error] ${error}`, 'red');
        };
    });
    </script>
</head>
<body>
    <h1>Example Websocket Client</h1>
    <ol id="logs"></ol>
</body>
</html>